@using UniCampaignE.Web.Localization
@model int
<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header bg-primary-dark">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">@ViewBag.ModalTitle</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <form id="search_form">
                    <div class="form-inline pr-lg" role="form">
                        <div class="form-group pull-right">
                            <input type="text" id="import_search_term" class="form-control" placeholder=@Campaign.GRID_SEARCH_PLACE_HOLDER />
                            <input type="submit" class="btn btn-primary" value=@GridComman.GRID_SEARCH />
                        </div>

                    </div>
                </form>
            </div>
            <div class="table-responsive mt-sm">
                <table id="status_grid" class="table table-striped table-bordered table-condensed" data-source="@Url.Action(nameof(UniCampaignE.Web.Controllers.CampaignController.GetImportStatus),new { campaignId = Model })"></table>
            </div>
        </div>
        <div class="modal-footer"></div>
    </div>
    <script type="text/javascript">
        var gridSettings = {
            language: '@System.Globalization.CultureInfo.CurrentCulture.Name',
            columns: [
                { field: "Phone01", title: "@Campaign.GRID_PHONE01", width: 100 },
                { field: "Result01", title: "@Campaign.GRID_RESULT01", width: 120 },
                { field: "AccountNumber", title: "@Campaign.GRID_ACCOUNT_NUMBER", width: 100 },
                { field: 'CallResult', title: '@Campaign.GRID_CALL_RESULT', width: 120 },
                { field: "CallsMade", title: "@Campaign.GRID_CALLS_MADE", width: 80 },
                { field: "CallStatus", title: "@Campaign.GRID_CALL_STATUS", width: 130,hidden:true },
                { field: 'ImportDate', title: '@Campaign.GRID_IMPORT_DATE', width: 110 },
                { field: 'FirstName', title: '@Campaign.GRID_FIRST_NAME', hidden: true },
                { field: 'LastName', title: '@Campaign.GRID_LAST_NAME', hidden: true },
                { field: 'Phone02', title: '@Campaign.GRID_PHONE02', hidden: true },
                { field: 'Result02', title: '@Campaign.GRID_RESULT02', hidden: true },
                { field: 'Phone03', title: '@Campaign.GRID_PHONE03', hidden: true },
                { field: 'Result03', title: '@Campaign.GRID_RESULT03', hidden: true },
                { field: 'Phone04', title: '@Campaign.GRID_PHONE04', hidden: true },
                { field: 'Result04', title: '@Campaign.GRID_RESULT04', hidden: true },
                { field: 'Phone05', title: '@Campaign.GRID_PHONE05', hidden: true },
                { field: 'Result05', title: '@Campaign.GRID_RESULT05', hidden: true },
                { field: 'Phone06', title: '@Campaign.GRID_PHONE06', hidden: true },
                { field: 'Result06', title: '@Campaign.GRID_RESULT06', hidden: true },
                { field: 'Phone07', title: '@Campaign.GRID_PHONE07', hidden: true },
                { field: 'Result07', title: '@Campaign.GRID_RESULT07', hidden: true },
                { field: 'Phone08', title: '@Campaign.GRID_PHONE08', hidden: true },
                { field: 'Result08', title: '@Campaign.GRID_RESULT08', hidden: true },
                { field: 'Phone09', title: '@Campaign.GRID_PHONE09', hidden: true },
                { field: 'Result09', title: '@Campaign.GRID_RESULT09', hidden: true },
                { field: 'Phone10', title: '@Campaign.GRID_PHONE10', hidden: true },
                { field: 'Result10', title: '@Campaign.GRID_RESULT10', hidden: true }
            ],
            detailTemplate: '<div class="row"></div>',
            uiLibrary: "bootstrap",
            iconsLibrary:'fontawesome',
            notFoundText: '@GridComman.GRID_NO_RECORD_FOUND',
            pager: { enable: true, limit: 5, sizes: [5, 10, 20, 30] },
            showHiddenColumnsAsDetails:true
        };
        var statusGrid = $('#status_grid').grid(gridSettings);
        $('.modal-content').on('submit', '#search_form', function (e) {
            e.preventDefault();
            statusGrid.reload({ searchString: $('#import_search_term').val() });
        });
    </script>
</div>